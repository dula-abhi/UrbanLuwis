<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Product Details</title>
  <link rel="stylesheet" href="CSS/Clothsproduct.css">
  <link rel="stylesheet" href="styles_common.css">
</head>
<body>

<!-- Add to Cart Button -->
<button id="addToCartBtn" class="cart-icon-btn">
  <img src="logo/add-to-bag.png" alt="Cart Icon" />
</button>

<!-- Floating Cart Panel -->
<div id="cartPanel" class="cart-panel">
  <div class="cart-header">
    <span>ðŸ›’ Your Cart</span>
    <button id="closeCart" class="close-btn">&times;</button>
  </div>

  <div class="cart-content" id="cartContent"></div>
  <div class="cart-total" id="cartTotal"></div>

  <div class="cart-footer">
    <button class="checkout-btn">Checkout</button>
  </div>
</div>

<div class="container">
  <button class="back-button" onclick="history.back()">Back</button>

  <div class="product-card">
    <div class="left-panel">
      <div class="image-section">
        <img id="main-image" src="" alt="Product Image" class="main-image">
      </div>
    </div>

    <div class="product-info">
      <h1 id="product-name"></h1>
      <p id="product-description"></p>
      <H2 id="product-price"></H2>

      <label id="color-label">Select Color - </label>
      <div id="color-options" class="color-options"></div>

      <label>Select Size:</label>
      <div id="size-options" class="size-options"></div>

      <label for="quantity" class="quantity-label">Quantity:</label>
      <input type="number" id="quantity" name="quantity" value="1" min="1" class="quantity-input">

      <br><br>
      <button class="Add-to-cart" id="realAddToCartBtn">ADD TO CART</button>
    </div>
  </div>
</div>

<script>
const products = [
{
    id: "1",
    name: "LUWIS Gray Fit",
    price: "Rs. 6990/=",
    description: "Breathable cotton blend for all-day comfort. Perfect for formal occasions.",
    images: [
      "Clothe_page/men/product_f1.png",
      "Clothe_page/men/product_b1.png",
    ],
    colorNames: ["Charcoal Gray","Charcoal Gray"],
    sizes: ["S", "M", "L", "XL"]
  },
  {
    id: "2",
    name: "LUWIS Black Fit",
    price: "Rs. 6990/=",
    description: "Classic black fit with premium stitching. Sleek and modern look.",
    images: [
      "Clothe_page/men/product_f2.png",
      "Clothe_page/men/product_b2.png" 
    ],
    colorNames: ["black","black"],
    sizes: ["S","M", "L", "XL"]
  },
  {
    id: "3",
    name: "LUWIS Jacket",
    price: "Rs. 8990/=",
    description: "Stylish LUWIS jacket for all seasons. Durable and elegant.",
    images: [
      "Clothe_page/men/blank_01.png"
    ],
    colorNames: ["Forest Green"],
    sizes: ["S", "M", "L","XL"]
  },
  
  {
    id: "4",
    name: "LUWIS Crew Neck (White)",
    price: "Rs. 3750/=",
    description: "Comfort meets quality in our Craw Neck T-Shirt, crafted from premium Single Jersey fabric. Made with 100% cotton imported from Malaysia for a soft, breathable feel all day long.",
    images: [
      "Clothe_page/men/White_f.png",
      "Clothe_page/men/White_b.png",
  ],
  colorNames: ["White","White" ],
    sizes: ["M", "L", "XL"]
  },

  {
    id: "5",
    name: "LUWIS Crew Neck (Gray/Light Gray)",
    price: "Rs. 3750/=",
    description: "Comfort meets quality in our Craw Neck T-Shirt, crafted from premium Single Jersey fabric. Made with 100% cotton imported from Malaysia for a soft, breathable feel all day long.",
    images: [
      "Clothe_page/men/Asphalt_f.png",
      "Clothe_page/men/Asphalt_b.png",
      "Clothe_page/men/HeatherGrey_f.png",
      "Clothe_page/men/HeatherGrey_b.png",
    ],
    colorNames: ["Asphalt (gray)","Asphalt (gray)","Headther Gray (Light Gray)","Headther Gray (Light Gray)"],
    sizes: ["M", "L", "XL"]
  },


  {
    id: "6",
    name: "LUWIS Crew Neck (cayan/Light Cayan)",
    price: "Rs. 3750/=",
    description: "Comfort meets quality in our Craw Neck T-Shirt, crafted from premium Single Jersey fabric. Made with 100% cotton imported from Malaysia for a soft, breathable feel all day long.",
    images: [
      "Clothe_page/men/SeaSpray_f.png",
      "Clothe_page/men/SeaSpray_b.png",
      "Clothe_page/men/HeatherArctic_f.png",
      "Clothe_page/men/HeatherArctic_b.png",
      
    ],
    colorNames: ["Sea Spray (cayan)","Sea Spray (cayan)","Heather Arctic (Light cayan)","Heather Arctic (Light cayan)"],
    sizes: ["M", "L", "XL"]
  },



  {
    id: "7",
    name: "LUWIS Crew Neck (light Bule)",
    price: "Rs. 3750/=",
    description: "Comfort meets quality in our Craw Neck T-Shirt, crafted from premium Single Jersey fabric. Made with 100% cotton imported from Malaysia for a soft, breathable feel all day long.",
    images:[
    "Clothe_page/men/PowderBlue_f.png",
    "Clothe_page/men/PowderBlue_b.png",
    ],
    colorNames: ["Powder Blue (light Bule)","Powder Blue (light Bule)"],
    sizes: ["M", "L", "XL"]
  },


  {
    id: "8",
    name: "LUWIS Crew Neck (light green)",
    price: "Rs. 3750/=",
    description: "Comfort meets quality in our Craw Neck T-Shirt, crafted from premium Single Jersey fabric. Made with 100% cotton imported from Malaysia for a soft, breathable feel all day long.",
    images:[
      "Clothe_page/men/Sage_f.png",
      "Clothe_page/men/Sage_b.png",   
    ],
    colorNames: ["Sage (light green)","Sage (light green)"],
    sizes: ["M", "L", "XL"]
  },


  {
    id: "9",
    name: "LUWIS Crew Neck (Light Orange)",
    price: "Rs. 3750/=",
    description: "Comfort meets quality in our Craw Neck T-Shirt, crafted from premium Single Jersey fabric. Made with 100% cotton imported from Malaysia for a soft, breathable feel all day long.",
    images:[
      "Clothe_page/men/HeatherKhaki_f.png",
      "Clothe_page/men/HeatherKhaki_b.png"
    ],  
    colorNames: ["HeatherKhaki (Light Orange)","HeatherKhaki (Light Orange)"],
    sizes: ["M", "L", "XL"]
  },

  {
    id: "10",
    name: "LUWIS Jacket",
    price: "Rs. 8900/=",
    description: "Classic black fit with premium stitching. Sleek and modern look.",
    images: [
      "Clothe_page/men/Jacket/JacketNavy_f.png",
      "Clothe_page/men/Jacket/JacketNavy_b.png",
      "Clothe_page/men/Jacket/JacketGray_f.png",
      "Clothe_page/men/Jacket/JacketGray_b.png",
      "Clothe_page/men/Jacket/JacketBlack_f.png",
      "Clothe_page/men/Jacket/JacketBlack_b.png",
    ],
    colorNames: ["Navy","Navy","Gray","Gray","Black","Black"],
    sizes: ["S","M", "L", "XL"]
  }
  
];

const urlParams = new URLSearchParams(window.location.search);
const productId = urlParams.get("id") || "1";
const product = products.find(p => p.id === productId);

document.getElementById("product-name").textContent = product.name;
document.getElementById("product-price").textContent = product.price;
document.getElementById("product-description").textContent = product.description;
document.getElementById("main-image").src = product.images[0];

const colorLabel = document.getElementById("color-label");
const colorOptionsContainer = document.getElementById("color-options");
const sizeOptionsContainer = document.getElementById("size-options");
const realAddToCartBtn = document.getElementById("realAddToCartBtn");

product.images.forEach((img, index) => {
  const swatch = document.createElement("div");
  swatch.classList.add("color-swatch");
  swatch.style.backgroundImage = `url(${img})`;
  swatch.addEventListener("click", () => {
    document.getElementById("main-image").src = img;
    document.querySelectorAll(".color-swatch").forEach(s => s.classList.remove("selected"));
    swatch.classList.add("selected");
    colorLabel.textContent = `Select Color - ${product.colorNames[index]}`;
  });
  if (index === 0) {
    swatch.classList.add("selected");
    colorLabel.textContent = `Select Color - ${product.colorNames[0]}`;
  }
  colorOptionsContainer.appendChild(swatch);
});

product.sizes.forEach(size => {
  const sizeBtn = document.createElement("div");
  sizeBtn.classList.add("size-option");
  sizeBtn.textContent = size;
  sizeBtn.addEventListener("click", () => {
    document.querySelectorAll(".size-option").forEach(s => s.classList.remove("selected"));
    sizeBtn.classList.add("selected");
  });
  sizeOptionsContainer.appendChild(sizeBtn);
});

realAddToCartBtn.addEventListener("click", () => {
  const selectedColor = document.querySelector(".color-swatch.selected");
  const selectedSize = document.querySelector(".size-option.selected");
  const quantity = parseInt(document.getElementById("quantity").value);
  const selectedColorIndex = [...document.querySelectorAll(".color-swatch")].indexOf(selectedColor);

  if (!selectedColor || !selectedSize || !quantity || quantity < 1) {
    alert("Please select color, size and enter valid quantity.");
    return;
  }

  const item = {
    id: product.id,
    name: product.name,
    price: product.price,
    color: product.colorNames[selectedColorIndex],
    size: selectedSize.textContent,
    image: product.images[selectedColorIndex],
    quantity: quantity
  };

  // Call global cart function defined in cart.js
  if (typeof addToCart === "function") {
    addToCart(item);
  } else {
    alert("Cart functionality is not loaded.");
  }
});
</script>

<!-- Footer -->
<br><br>
<div id="footer"></div>
<script>
  fetch('footer.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('footer').innerHTML = data;
    });
</script>

<script src="JS/cart.js"></script> <!-- Load your cart.js here -->

</body>
</html>
