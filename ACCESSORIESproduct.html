<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Product Details</title>
  <link rel="stylesheet" href="CSS/Clothsproduct.css">
  <link rel="stylesheet" href="styles_common.css">
</head>
<body>

<!-- Add to Cart Button -->
<button id="addToCartBtn" class="cart-icon-btn">
  <img src="logo/add-to-bag.png" alt="Cart Icon" />
</button>

<!-- Floating Cart Panel -->
<div id="cartPanel" class="cart-panel">
  <div class="cart-header">
    <span>ðŸ›’ Your Cart</span>
    <button id="closeCart" class="close-btn">&times;</button>
  </div>

  <div class="cart-content" id="cartContent"></div>
  <div class="cart-total" id="cartTotal"></div>

  <div class="cart-footer">
    <button class="checkout-btn">Checkout</button>
  </div>
</div>

  <div class="container">
    <button class="back-button" onclick="history.back()">Back</button>

    <div class="product-card">
      <div class="left-panel">
        <div class="image-section">
          <img id="main-image" src="" alt="Product Image" class="main-image">
        </div>
      </div>

      <div class="product-info">
        <h1 id="product-name"></h1>
        <p id="product-description"></p>
        <H2 id="product-price"></H2>

        <label id="color-label">Select Color - </label>
        <div id="color-options" class="color-options"></div>

        <label for="quantity" class="quantity-label">Quantity:</label>
        <input type="number" id="quantity" name="quantity" value="1" min="1" class="quantity-input">

        <br><br>
        <button class="Add-to-cart" id="realAddToCartBtn">ADD TO CART</button>
      </div>
    </div>
  </div>

  <script>
    const accessories = [
      {
        id: "1",
        name: "LUWIS Laser Tag",
        price: "Rs. 500/=",
        description: ".",
        images: ["Clothe_page/Acccessiors/LaserWaveKeychain.png"],
        colors: ["Silver"]
      },
      {
        id: "2",
        name: "Laser Mug",
        price: "Rs. 4500/=",
        description: "Stainless steel mug with laser engraving. Keeps drinks hot or cold.",
        images: [
          "Clothe_page/Acccessiors/MUGS/laserMugBlue1.png",
          "Clothe_page/Acccessiors/MUGS/laserMugBlack.png",
          "Clothe_page/Acccessiors/MUGS/laserMugWhite.png"
        ],
        colors: ["Navy", "Black", "White"]
      },
      {
        id: "3",
        name: "Rambler Bottle",
        price: "Rs. 3500/=",
        description: "Durable and leak-proof bottle ideal for outdoor use.",
        images: [
          "Clothe_page/Acccessiors/BOTTLES/RamblerBottleBlack.png",
          "Clothe_page/Acccessiors/BOTTLES/RamblerBottleNavy.png",
          "Clothe_page/Acccessiors/BOTTLES/RamblerBottleWhite.png"
        ],
        colors: ["Black", "Navy", "White"]
      },
      {
        id: "4",
        name: "Insulated Bottle",
        price: "Rs. 4900/=",
        description: "Double-wall insulated bottle with wood texture finish.",
        images: [
          "Clothe_page/Acccessiors/BOTTLES/InsulatedBottleWood.png",
          "Clothe_page/Acccessiors/BOTTLES/InsulatedBottleGlossNavy.png",
          "Clothe_page/Acccessiors/BOTTLES/InsulatedBottlePrismatic.png"],
        colors: ["Wood", "Black", "White"]
      },
      {
        id: "5",
        name: "Briefcase",
        price: "Rs. 12000/=",
        description: "Premium tan briefcase for professionals with multiple compartments.",
        images: [
          "Clothe_page/Acccessiors/BAGS/BriefcaseTan.png",
          "Clothe_page/Acccessiors/BAGS/BriefcaseBlack.png" ],
        colors: ["Tan", "Black"]
      },
      {
        id: "6",
        name: "Sport Gym Bag (Raven Crosshatch)",
        price: "Rs. 7500/=",
        description: "Spacious gym bag with tech compartments. Raven Crosshatch design.",
        images: [
          "Clothe_page/Acccessiors/BAGS/TechBagRavenCrosshatch.png",
          "Clothe_page/Acccessiors/BAGS/TechBagBlack.png"
        ],
        colors: ["Gray","Black"]
      },
      {
        id: "7",
        name: "Duffel Bag (Red)",
        price: "Rs. 8500/=",
        description: "Stylish red duffel bag perfect for short trips and sports.",
        images: [
          "Clothe_page/Acccessiors/BAGS/DuffelBagRed.png",
          "Clothe_page/Acccessiors/BAGS/DuffelBagBlack.png",
          "Clothe_page/Acccessiors/BAGS/DuffelBagNavy.png",
          "Clothe_page/Acccessiors/BAGS/DuffelBagRoyal.png"
        ],
        colors: ["Red", "Black", "Navy","Royal Blue"]
      },
      {
        id: "8",
        name: "Sport Gym Bag (Yellow)",
        price: "Rs. 7500/=",
        description: "High-visibility yellow gym bag with large storage capacity.",
        images: [
          "Clothe_page/Acccessiors/BAGS/SportGymGray.png",
          "Clothe_page/Acccessiors/BAGS/SportGymOrange.png",
          "Clothe_page/Acccessiors/BAGS/SportGymRed.png",
          "Clothe_page/Acccessiors/BAGS/SportGymRoyalBlue.png",
          "Clothe_page/Acccessiors/BAGS/SportGymYellow.png"
        ],
        colors: ["Gray","Orange","Red","Royal Blue","Yellow"]
      },
      {
        id: "9",
        name: "Sport Gym Bag",
        price: "Rs. 7500/=",
        description: "Another edition of the popular yellow gym bag.",
        images: [
          "Clothe_page/Acccessiors/BAGS/SportGymYellow.png",
          "Clothe_page/Acccessiors/BAGS/SportGymGray.png",
          "Clothe_page/Acccessiors/BAGS/SportGymOrange.png",
          "Clothe_page/Acccessiors/BAGS/SportGymRed.png",
          "Clothe_page/Acccessiors/BAGS/SportGymRoyalBlue.png"
        ],
        colors: ["Yellow","Gray","Orange","Red","Blue"]
      },
      {
        id: "10",
        name: "46\" Bamboo Umbrella",
        price: "Rs. 2200/=",
        description: "Elegant navy blue umbrella with bamboo handle.",
        images: [
          "Clothe_page/Acccessiors/Umbrella/46BambooUmbrellaNavy.png",
          "Clothe_page/Acccessiors/Umbrella/46BambooUmbrellaBlack.png",
          "Clothe_page/Acccessiors/Umbrella/46BambooUmbrellaRed.png"],
        colors: ["Navy", "Black","Red"]
      },
      {
        id: "11",
        name: "46\" Clear Umbrella",
        price: "Rs. 2200/=",
        description: "Elegant navy blue umbrella with bamboo handle.",
        images: [
          "Clothe_page/Acccessiors/Umbrella/46ClearUmbrella.png"],
        colors: ["Clear"]
      },
      {
        id: "12",
        name: "LUWIS Pencil Case",
        price: "Rs. 1200/=",
        description: "Compact and stylish pencil case made with vegan leather.",
        images: [
          "Clothe_page/Acccessiors/case 1.png"],
        colors: ["Light Brown"]
      }
    ];

    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const productId = urlParams.get('id');
    const product = accessories.find(p => p.id === productId) || accessories[0];

    document.getElementById("product-name").textContent = product.name;
    document.getElementById("product-price").textContent = product.price;
    document.getElementById("product-description").textContent = product.description;

    const mainImage = document.getElementById("main-image");
    mainImage.src = product.images[0];

    const colorLabel = document.getElementById("color-label");
    const colorOptionsContainer = document.getElementById("color-options");

    let selectedColor = product.colors[0];

    product.images.forEach((img, index) => {
      const swatch = document.createElement("div");
      swatch.classList.add("color-swatch");
      swatch.style.backgroundImage = `url(${img})`;

      swatch.addEventListener("click", () => {
        mainImage.src = img;
        document.querySelectorAll(".color-swatch").forEach(s => s.classList.remove("selected"));
        swatch.classList.add("selected");
        selectedColor = product.colors[index] || "";
        colorLabel.textContent = `Select Color - ${selectedColor}`;
      });

      if (index === 0) {
        swatch.classList.add("selected");
        colorLabel.textContent = `Select Color - ${product.colors[0]}`;
      }

      colorOptionsContainer.appendChild(swatch);
    });

    const realAddToCartBtn = document.getElementById("realAddToCartBtn");

    realAddToCartBtn.addEventListener("click", () => {
      const quantityInput = document.getElementById("quantity");
      const quantity = parseInt(quantityInput.value, 10);

      const item = {
        id: product.id,
        name: product.name,
        price: product.price,
        color: selectedColor,
        size: "-",
        quantity: quantity,
        image: product.images[0]
      };

      addToCart(item);
    });
  </script>

  <!-- Load cart.js -->
  <script src="JS/cart.js"></script>

  <!-- Footer -->
  <br><br>
  <div id="footer"></div>
  <script>
    fetch('footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('footer').innerHTML = data;
      });
  </script>
</body>
</html>
